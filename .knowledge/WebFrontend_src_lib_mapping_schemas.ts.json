{"is_source_file": true, "format": "TypeScript", "description": "This file defines schemas, types, and utility functions for validating and processing resource and cost data ingested into the project. It includes schema definitions using zod for resource and cost ingestion rows, along with functions for normalizing headers, parsing numbers and dates, parsing JSON, and formatting validation errors.", "external_files": ["../../types/api"], "external_methods": ["z.enum", "z.object", "z.string", "z.number", "z.record", "z.array", "z.datetime", "z.infer", "z.ZodError", "z.ZodIssue"], "published": ["ParseError", "ParseResult", "normalizeHeader", "parseNumberLike", "toIsoDate", "tryParseJson", "ProviderEnum", "ResourceIngestRowSchema", "ResourceIngestRow", "CostIngestRowSchema", "CostIngestRow", "formatZodErrors"], "classes": [], "methods": [{"name": "export function normalizeHeader(raw: string): string { normalizeHeader", "description": "Normalizes raw header strings to snake_case, applying known synonyms for common headers.", "scope": "", "scopeKind": ""}, {"name": "export function parseNumberLike(input: unknown): number | undefined { parseNumberLike", "description": "Converts input strings or numbers to a floating point number, cleaning formatting characters.", "scope": "", "scopeKind": ""}, {"name": "export function toIsoDate(input: unknown): string | undefined { toIsoDate", "description": "Converts various date inputs to ISO 8601 strings if valid.", "scope": "", "scopeKind": ""}, {"name": "export function tryParseJson<T = unknown>(input: unknown): T | undefined { tryParseJson", "description": "Attempts to parse an input string as JSON, returning undefined if parsing fails.", "scope": "", "scopeKind": ""}, {"name": "export function formatZodErrors(err: z.ZodError): string[] { formatZodErrors", "description": "Formats zod validation errors into a list of readable error messages.", "scope": "", "scopeKind": ""}], "calls": [], "state": 2, "file_id": 44, "knowledge_revision": 128, "git_revision": "", "ctags": [{"_type": "tag", "name": "CostIngestRow", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/mapping/schemas.ts", "pattern": "/^export type CostIngestRow = z.infer<typeof CostIngestRowSchema>;$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "CostIngestRowSchema", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/mapping/schemas.ts", "pattern": "/^export const CostIngestRowSchema = z.object({$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "ParseError", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/mapping/schemas.ts", "pattern": "/^export type ParseError = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "ParseResult", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/mapping/schemas.ts", "pattern": "/^export type ParseResult<T> = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "ProviderEnum", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/mapping/schemas.ts", "pattern": "/^export const ProviderEnum = z.enum(['aws', 'azure', 'gcp']);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "ResourceIngestRow", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/mapping/schemas.ts", "pattern": "/^export type ResourceIngestRow = z.infer<typeof ResourceIngestRowSchema>;$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "ResourceIngestRowSchema", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/mapping/schemas.ts", "pattern": "/^export const ResourceIngestRowSchema = z.object({$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/mapping/schemas.ts", "pattern": "/^  const base = String(raw || '')$/", "language": "TypeScript", "kind": "constant", "scope": "normalizeHeader", "scopeKind": "function"}, {"_type": "tag", "name": "cleaned", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/mapping/schemas.ts", "pattern": "/^  const cleaned = input.replace(\\/[^0-9.\\\\-]+\\/g, '').trim();$/", "language": "TypeScript", "kind": "constant", "scope": "parseNumberLike", "scopeKind": "function"}, {"_type": "tag", "name": "d", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/mapping/schemas.ts", "pattern": "/^  const d = new Date(s);$/", "language": "TypeScript", "kind": "constant", "scope": "toIsoDate", "scopeKind": "function"}, {"_type": "tag", "name": "formatZodErrors", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/mapping/schemas.ts", "pattern": "/^export function formatZodErrors(err: z.ZodError): string[] {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "n", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/mapping/schemas.ts", "pattern": "/^  const n = Number.parseFloat(cleaned);$/", "language": "TypeScript", "kind": "constant", "scope": "parseNumberLike", "scopeKind": "function"}, {"_type": "tag", "name": "normalizeHeader", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/mapping/schemas.ts", "pattern": "/^export function normalizeHeader(raw: string): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "parseNumberLike", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/mapping/schemas.ts", "pattern": "/^export function parseNumberLike(input: unknown): number | undefined {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "path", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/mapping/schemas.ts", "pattern": "/^    const path = i.path && i.path.length ? `${i.path.join('.')}: ` : '';$/", "language": "TypeScript", "kind": "constant", "scope": "formatZodErrors", "scopeKind": "function"}, {"_type": "tag", "name": "s", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/mapping/schemas.ts", "pattern": "/^  const s = String(input).trim();$/", "language": "TypeScript", "kind": "constant", "scope": "toIsoDate", "scopeKind": "function"}, {"_type": "tag", "name": "s", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/mapping/schemas.ts", "pattern": "/^  const s = input.trim();$/", "language": "TypeScript", "kind": "constant", "scope": "tryParseJson", "scopeKind": "function"}, {"_type": "tag", "name": "synonyms", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/mapping/schemas.ts", "pattern": "/^  const synonyms: Record<string, string> = {$/", "language": "TypeScript", "kind": "constant", "scope": "normalizeHeader", "scopeKind": "function"}, {"_type": "tag", "name": "t", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/mapping/schemas.ts", "pattern": "/^    const t = input.getTime();$/", "language": "TypeScript", "kind": "constant", "scope": "toIsoDate", "scopeKind": "function"}, {"_type": "tag", "name": "toIsoDate", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/mapping/schemas.ts", "pattern": "/^export function toIsoDate(input: unknown): string | undefined {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "tryParseJson", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/mapping/schemas.ts", "pattern": "/^export function tryParseJson<T = unknown>(input: unknown): T | undefined {$/", "language": "TypeScript", "kind": "function"}], "hash": "db9cc064c0310cee8fcbd0156ef27e13", "format-version": 4, "code-base-name": "WebFrontend", "filename": "WebFrontend/src/lib/mapping/schemas.ts", "search-terms": [], "revision_history": [{"128": ""}]}