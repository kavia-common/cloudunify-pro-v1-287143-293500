{"is_source_file": true, "format": "TypeScript", "description": "This file is a Vite configuration script written in TypeScript, defining plugins and server settings for a web frontend project using React. It includes custom plugins for health checks, SPA fallback, and server configuration for development and preview environments.", "external_files": ["node:fs", "node:path", "@vitejs/plugin-react"], "external_methods": ["defineConfig"], "published": ["default"], "classes": [], "methods": [{"name": "function healthPlugin() { healthPlugin", "description": "Creates a Vite plugin that provides a health endpoint at /health and /healthz, responding with 'ok'.", "scope": "", "scopeKind": ""}, {"name": "function spaFallbackPlugin() { spaFallbackPlugin", "description": "Creates a Vite plugin that provides SPA fallback behavior for non-asset, non-API GET requests, serving index.html.", "scope": "", "scopeKind": ""}], "calls": ["defineConfig", "react()", "healthPlugin()", "spaFallbackPlugin()", "fs.readFileSync", "path.resolve"], "search-terms": ["vite.config.ts", "health-endpoint plugin", "SPA fallback plugin", "devServer configuration", "previewServer configuration", "custom Vite plugins", "React plugin integration"], "state": 2, "file_id": 13, "knowledge_revision": 201, "git_revision": "009e7960e010fa5d248c7c85da582a83fb065ed8", "revision_history": [{"50": ""}, {"121": "c1469808ef967795fd79ad0774e673242133e9ce"}, {"126": "c1469808ef967795fd79ad0774e673242133e9ce"}, {"147": "38a8c97aaf7ce34d340ddadac7e3cfd830b7e081"}, {"157": "3853b3fbe905a5b6f019ce7bed6a12ab183d0a0f"}, {"165": "8fa48abe179c00fbb7408df66b68eb623cb65d84"}, {"167": "8fa48abe179c00fbb7408df66b68eb623cb65d84"}, {"197": "474d2ca61f7554da2fb8e7d124684a55a617cfe4"}, {"201": "009e7960e010fa5d248c7c85da582a83fb065ed8"}], "ctags": [{"_type": "tag", "name": "accept", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/vite.config.ts", "pattern": "/^    const accept = req.headers?.accept || '';$/", "language": "TypeScript", "kind": "constant", "scope": "spaFallbackPlugin", "scopeKind": "function"}, {"_type": "tag", "name": "allowedHosts", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/vite.config.ts", "pattern": "/^  allowedHosts: true$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "devServer", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/vite.config.ts", "pattern": "/^const devServer = {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "handler", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/vite.config.ts", "pattern": "/^  const handler = (_req: any, res: any) => {$/", "language": "TypeScript", "kind": "constant", "scope": "healthPlugin", "scopeKind": "function"}, {"_type": "tag", "name": "healthPlugin", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/vite.config.ts", "pattern": "/^function healthPlugin() {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "html", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/vite.config.ts", "pattern": "/^          const html = readIndex(root);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "isAssetPath", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/vite.config.ts", "pattern": "/^  const isAssetPath = (url: string): boolean => {$/", "language": "TypeScript", "kind": "constant", "scope": "spaFallbackPlugin", "scopeKind": "function"}, {"_type": "tag", "name": "maybeTransform", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/vite.config.ts", "pattern": "/^          const maybeTransform = (server as any).transformIndexHtml;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "open", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/vite.config.ts", "pattern": "/^  open: false,$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "previewServer", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/vite.config.ts", "pattern": "/^const previewServer = {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "readIndex", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/vite.config.ts", "pattern": "/^  const readIndex = (root: string): string => {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "root", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/vite.config.ts", "pattern": "/^          const root = server.config?.root || process.cwd();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "shouldServeIndex", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/vite.config.ts", "pattern": "/^  const shouldServeIndex = (req: any): boolean => {$/", "language": "TypeScript", "kind": "constant", "scope": "spaFallbackPlugin", "scopeKind": "function"}, {"_type": "tag", "name": "spaFallbackPlugin", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/vite.config.ts", "pattern": "/^function spaFallbackPlugin() {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "transformed", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/vite.config.ts", "pattern": "/^          const transformed = await server.transformIndexHtml(url, html);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "transformed", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/vite.config.ts", "pattern": "/^          const transformed = typeof maybeTransform === 'function'$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/vite.config.ts", "pattern": "/^          const url: string = req.url || '\\/';$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/vite.config.ts", "pattern": "/^    const url: string = req?.url || '\\/';$/", "language": "TypeScript", "kind": "constant", "scope": "spaFallbackPlugin", "scopeKind": "function"}], "hash": "380e6f7a2edb04cae4824977fdb50592", "format-version": 4, "code-base-name": "WebFrontend", "filename": "WebFrontend/vite.config.ts"}