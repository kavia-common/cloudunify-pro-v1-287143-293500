{"is_source_file": true, "format": "TypeScript", "description": "This file provides environment helper functions for the WebFrontend, including retrieval of API and WebSocket base URLs, and URL joining utilities.", "external_files": ["import.meta"], "external_methods": [], "published": ["getApiBase", "getWsBase", "joinUrl"], "classes": [], "methods": [{"name": "export function getApiBase(): string { getApiBase", "description": "Returns the backend API base URL, preferring VITE_* over legacy REACT_APP_* environment variables.", "scope": "", "scopeKind": ""}, {"name": "export function getWsBase(): string { getWsBase", "description": "Returns the WebSocket base URL, optionally derived from the API base URL if specific environment variables are not set.", "scope": "", "scopeKind": ""}, {"name": "export function joinUrl(base: string, path: string): string { joinUrl", "description": "Joins a base URL and a path, ensuring proper slash separation.", "scope": "", "scopeKind": ""}, {"name": "function getEnv(): AnyEnv { getEnv", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "function trimTrailingSlashes(v: string): string { trimTrailingSlashes", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["getEnv", "trimTrailingSlashes"], "search-terms": ["env helpers", "VITE_*", "REACT_APP_*", "URL", "WebFrontend", "env variables"], "state": 2, "file_id": 57, "knowledge_revision": 182, "git_revision": "", "revision_history": [{"175": ""}, {"182": ""}], "ctags": [{"_type": "tag", "name": "AnyEnv", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/env.ts", "pattern": "/^type AnyEnv = Record<string, unknown>;$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "apiBase", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/env.ts", "pattern": "/^  const apiBase = getApiBase();$/", "language": "TypeScript", "kind": "constant", "scope": "getWsBase", "scopeKind": "function"}, {"_type": "tag", "name": "b", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/env.ts", "pattern": "/^  const b = trimTrailingSlashes(String(base || '').trim());$/", "language": "TypeScript", "kind": "constant", "scope": "joinUrl", "scopeKind": "function"}, {"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/env.ts", "pattern": "/^  const base = String(raw || '').trim();$/", "language": "TypeScript", "kind": "constant", "scope": "getApiBase", "scopeKind": "function"}, {"_type": "tag", "name": "cleaned", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/env.ts", "pattern": "/^    const cleaned = trimTrailingSlashes(explicit).replace(\\/\\\\\\/ws$\\/i, '');$/", "language": "TypeScript", "kind": "constant", "scope": "getWsBase", "scopeKind": "function"}, {"_type": "tag", "name": "derived", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/env.ts", "pattern": "/^  const derived = apiBase.replace(\\/^https:\\/i, 'wss:').replace(\\/^http:\\/i, 'ws:');$/", "language": "TypeScript", "kind": "constant", "scope": "getWsBase", "scopeKind": "function"}, {"_type": "tag", "name": "env", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/env.ts", "pattern": "/^  const env = getEnv();$/", "language": "TypeScript", "kind": "constant", "scope": "getApiBase", "scopeKind": "function"}, {"_type": "tag", "name": "env", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/env.ts", "pattern": "/^  const env = getEnv();$/", "language": "TypeScript", "kind": "constant", "scope": "getWsBase", "scopeKind": "function"}, {"_type": "tag", "name": "explicit", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/env.ts", "pattern": "/^  const explicit = String(raw || '').trim();$/", "language": "TypeScript", "kind": "constant", "scope": "getWsBase", "scopeKind": "function"}, {"_type": "tag", "name": "getApiBase", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/env.ts", "pattern": "/^export function getApiBase(): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getEnv", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/env.ts", "pattern": "/^function getEnv(): AnyEnv {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getWsBase", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/env.ts", "pattern": "/^export function getWsBase(): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "joinUrl", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/env.ts", "pattern": "/^export function joinUrl(base: string, path: string): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "p", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/env.ts", "pattern": "/^  const p = String(path || '').trim();$/", "language": "TypeScript", "kind": "constant", "scope": "joinUrl", "scopeKind": "function"}, {"_type": "tag", "name": "raw", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/env.ts", "pattern": "/^  const raw = (env.VITE_WS_URL as string | undefined) || (env.REACT_APP_WS_URL as string | undef/", "language": "TypeScript", "kind": "constant", "scope": "getWsBase", "scopeKind": "function"}, {"_type": "tag", "name": "raw", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/env.ts", "pattern": "/^  const raw =$/", "language": "TypeScript", "kind": "constant", "scope": "getApiBase", "scopeKind": "function"}, {"_type": "tag", "name": "trimTrailingSlashes", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/env.ts", "pattern": "/^function trimTrailingSlashes(v: string): string {$/", "language": "TypeScript", "kind": "function"}], "hash": "193a1307e30c4d4fdab67c2d21167195", "format-version": 4, "code-base-name": "WebFrontend", "filename": "WebFrontend/src/lib/env.ts"}