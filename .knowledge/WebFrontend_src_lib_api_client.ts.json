{"is_source_file": true, "format": "TypeScript", "description": "This file defines a typed API client for interacting with a web backend, including methods for authentication, resource management, cost summaries, recommendations, automation rules, and a WebSocket URL builder.", "external_files": ["../../types/api", "./http"], "external_methods": ["getApiBaseUrl", "httpRequest"], "published": ["createApiClient", "apiClient"], "classes": [], "methods": [{"name": "export function createApiClient() { createApiClient", "description": "Factory function that creates an API client object bound to the configured base URL, exposing methods for auth, resources, costs, recommendations, automation, and WebSocket URL building.", "scope": "", "scopeKind": ""}, {"name": "export function apiClient() { apiClient", "description": "Singleton accessor function for retrieving the API client instance.", "scope": "", "scopeKind": ""}], "calls": ["httpRequest<LoginResponse>('/auth/login', 'POST', payload)", "httpRequest<LoginResponse>('/auth/refresh', 'POST', { refresh_token })", "httpRequest<ResourceListResponse>(`/resources?${query.toString()}`, 'GET')", "httpRequest<CostSummary>(`/costs/summary?${query.toString()}`, 'GET')", "httpRequest<Recommendation[]>(`/recommendations?${query.toString()}`, 'GET')", "httpRequest<AutomationRule[]>('/automation-rules', 'GET')", "httpRequest<AutomationRule>('/automation-rules', 'POST', rule)"], "search-terms": ["createApiClient", "apiClient", "httpRequest", "AutomationRuleCreate", "getApiBaseUrl", "httpRequest<LoginResponse>", "ws", "activity-stream"], "state": 2, "file_id": 33, "knowledge_revision": 101, "git_revision": "", "revision_history": [{"70": ""}, {"80": ""}, {"101": ""}], "ctags": [{"_type": "tag", "name": "apiClient", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/api/client.ts", "pattern": "/^export function apiClient() {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/api/client.ts", "pattern": "/^        const base = getApiBaseUrl();$/", "language": "TypeScript", "kind": "constant", "scope": "createApiClient", "scopeKind": "function"}, {"_type": "tag", "name": "basePath", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/api/client.ts", "pattern": "/^        const basePath = u.pathname && u.pathname !== '\\/' ? u.pathname.replace(\\/\\\\\\/+$\\/, '') /", "language": "TypeScript", "kind": "constant", "scope": "createApiClient", "scopeKind": "function"}, {"_type": "tag", "name": "createApiClient", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/api/client.ts", "pattern": "/^export function createApiClient() {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "query", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/api/client.ts", "pattern": "/^        const query = new URLSearchParams();$/", "language": "TypeScript", "kind": "constant", "scope": "createApiClient", "scopeKind": "function"}, {"_type": "tag", "name": "query", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/api/client.ts", "pattern": "/^        const query = new URLSearchParams({ period });$/", "language": "TypeScript", "kind": "constant", "scope": "createApiClient", "scopeKind": "function"}, {"_type": "tag", "name": "u", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/api/client.ts", "pattern": "/^        const u = new URL(base, window.location.origin);$/", "language": "TypeScript", "kind": "constant", "scope": "createApiClient", "scopeKind": "function"}, {"_type": "tag", "name": "wsProtocol", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/api/client.ts", "pattern": "/^        const wsProtocol = u.protocol === 'https:' ? 'wss:' : 'ws:';$/", "language": "TypeScript", "kind": "constant", "scope": "createApiClient", "scopeKind": "function"}], "hash": "eb41390b935c78eb54b28f78becbbfd4", "format-version": 4, "code-base-name": "WebFrontend", "filename": "WebFrontend/src/lib/api/client.ts"}