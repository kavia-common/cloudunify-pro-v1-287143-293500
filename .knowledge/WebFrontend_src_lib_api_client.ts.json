{"is_source_file": true, "format": "TypeScript", "description": "This file defines a client API for interacting with a backend service, including authentication, resource management, cost summaries, recommendations, automation rules, and WebSocket URL generation. It includes helper functions for URL handling and data transformation.", "external_files": ["../../types/api", "../env", "./http"], "external_methods": ["getApiBase", "getWsBase", "joinUrl", "getJson", "postJson"], "published": ["apiClient"], "classes": [], "methods": [{"name": "function withQuery(baseUrl: string, params: Record<string, string | number | undefined>): string/ withQuery", "description": "Constructs a URL with query parameters appended.", "scope": "", "scopeKind": ""}, {"name": "function mapBulkResponseToUi(resp: any): BulkUploadResponse { mapBulkResponseToUi", "description": "Maps raw backend bulk response data to a structured UI response object.", "scope": "", "scopeKind": ""}, {"name": "export function apiClient() { apiClient", "description": "Returns a typed API client object with methods for authentication, resource management, costs, recommendations, automation, and WebSocket URL generation.", "scope": "", "scopeKind": ""}], "calls": ["joinUrl", "getJson", "postJson", "mapBulkResponseToUi"], "search-terms": ["apiClient", "BulkUploadResponse", "automation-rules", "recommendations", "/resources/bulk", "/costs/summary", "buildActivityStreamUrl"], "state": 2, "file_id": 59, "knowledge_revision": 181, "git_revision": "", "revision_history": [{"177": ""}, {"181": ""}], "ctags": [{"_type": "tag", "name": "apiBase", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/api/client.ts", "pattern": "/^  const apiBase = getApiBase();$/", "language": "TypeScript", "kind": "constant", "scope": "apiClient", "scopeKind": "function"}, {"_type": "tag", "name": "apiClient", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/api/client.ts", "pattern": "/^export function apiClient() {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "errors", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/api/client.ts", "pattern": "/^  const errors = Array.isArray(resp?.errors) ? resp.errors : [];$/", "language": "TypeScript", "kind": "constant", "scope": "mapBulkResponseToUi", "scopeKind": "function"}, {"_type": "tag", "name": "items", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/api/client.ts", "pattern": "/^        const items = payload.rows.map((r) => ({$/", "language": "TypeScript", "kind": "constant", "scope": "apiClient", "scopeKind": "function"}, {"_type": "tag", "name": "mapBulkResponseToUi", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/api/client.ts", "pattern": "/^function mapBulkResponseToUi(resp: any): BulkUploadResponse {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "resp", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/api/client.ts", "pattern": "/^        const resp = await postJson<any>(joinUrl(apiBase, '\\/costs\\/bulk'), { items });$/", "language": "TypeScript", "kind": "constant", "scope": "apiClient", "scopeKind": "function"}, {"_type": "tag", "name": "resp", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/api/client.ts", "pattern": "/^        const resp = await postJson<any>(joinUrl(apiBase, '\\/resources\\/bulk'), { items });$/", "language": "TypeScript", "kind": "constant", "scope": "apiClient", "scopeKind": "function"}, {"_type": "tag", "name": "u", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/api/client.ts", "pattern": "/^  const u = new URL(baseUrl);$/", "language": "TypeScript", "kind": "constant", "scope": "withQuery", "scopeKind": "function"}, {"_type": "tag", "name": "withQuery", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/api/client.ts", "pattern": "/^function withQuery(baseUrl: string, params: Record<string, string | number | undefined>): string/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "wsBase", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/api/client.ts", "pattern": "/^  const wsBase = getWsBase();$/", "language": "TypeScript", "kind": "constant", "scope": "apiClient", "scopeKind": "function"}], "hash": "850f70f87bdfb21f0f6611984f484c06", "format-version": 4, "code-base-name": "WebFrontend", "filename": "WebFrontend/src/lib/api/client.ts"}