{"is_source_file": true, "format": "TypeScript", "description": "This file defines an API client module for a web frontend, providing functions to interact with backend API endpoints such as authentication, resource listing, cost summaries, recommendations, automation rules, and WebSocket URL construction. It exports factory functions to create and access the API client object with typed method signatures.", "external_files": ["../../types/api", "./http"], "external_methods": ["httpRequest", "getApiBaseUrl"], "published": ["createApiClient", "apiClient"], "classes": [], "methods": [{"name": "export function createApiClient() { createApiClient", "description": "Factory function that returns an object with methods for interacting with various API endpoints, such as login, resource listing, cost summary, recommendations, creating automation rules, and building WebSocket URLs.", "scope": "", "scopeKind": ""}, {"name": "export function apiClient() { apiClient", "description": "Singleton accessor function that returns the API client object created by createApiClient.", "scope": "", "scopeKind": ""}], "calls": ["httpRequest<LoginResponse>('/auth/login', 'POST', payload)", "httpRequest<LoginResponse>('/auth/refresh', 'POST', { refresh_token })", "httpRequest<ResourceListResponse>(`/resources?${query.toString()}`, 'GET')", "httpRequest<CostSummary>(`/costs/summary?${query.toString()}`, 'GET')", "httpRequest<Recommendation[]>(`/recommendations?${query.toString()}`, 'GET')", "httpRequest<AutomationRule>('/automation-rules', 'POST', rule)", "getApiBaseUrl()"], "search-terms": ["API client", "auth", "resources", "costs", "recommendations", "automation", "ws", "httpRequest", "WebSocket"], "state": 2, "file_id": 33, "knowledge_revision": 80, "git_revision": "", "revision_history": [{"70": ""}, {"80": ""}], "ctags": [{"_type": "tag", "name": "apiClient", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/api/client.ts", "pattern": "/^export function apiClient() {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/api/client.ts", "pattern": "/^        const base = getApiBaseUrl();$/", "language": "TypeScript", "kind": "constant", "scope": "createApiClient", "scopeKind": "function"}, {"_type": "tag", "name": "basePath", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/api/client.ts", "pattern": "/^        const basePath = u.pathname && u.pathname !== '\\/' ? u.pathname.replace(\\/\\\\\\/+$\\/, '') /", "language": "TypeScript", "kind": "constant", "scope": "createApiClient", "scopeKind": "function"}, {"_type": "tag", "name": "createApiClient", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/api/client.ts", "pattern": "/^export function createApiClient() {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "query", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/api/client.ts", "pattern": "/^        const query = new URLSearchParams();$/", "language": "TypeScript", "kind": "constant", "scope": "createApiClient", "scopeKind": "function"}, {"_type": "tag", "name": "query", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/api/client.ts", "pattern": "/^        const query = new URLSearchParams({ period });$/", "language": "TypeScript", "kind": "constant", "scope": "createApiClient", "scopeKind": "function"}, {"_type": "tag", "name": "u", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/api/client.ts", "pattern": "/^        const u = new URL(base, window.location.origin);$/", "language": "TypeScript", "kind": "constant", "scope": "createApiClient", "scopeKind": "function"}, {"_type": "tag", "name": "wsProtocol", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/api/client.ts", "pattern": "/^        const wsProtocol = u.protocol === 'https:' ? 'wss:' : 'ws:';$/", "language": "TypeScript", "kind": "constant", "scope": "createApiClient", "scopeKind": "function"}], "hash": "4f73d2501cf0dd5ecbb95a39d76bc44a", "format-version": 4, "code-base-name": "WebFrontend", "filename": "WebFrontend/src/lib/api/client.ts"}