{"is_source_file": true, "format": "TypeScript", "description": "This file defines a web API client for interacting with a backend server. It includes methods for authentication, resource management, cost summaries, recommendations, and automation rules, utilizing HTTP GET and POST requests with error handling logic.", "external_files": ["../env", "../appConfig", "./http", "../../types/api"], "external_methods": ["joinUrl", "getAppConfig", "getJson", "postJson", "joinQuery"], "published": ["apiClient"], "classes": [], "methods": [{"name": "export function apiClient() { apiClient", "description": "Main function that returns an object with methods to interact with the backend API, including authentication, resource listing, bulk uploading, cost summaries, recommendations, and automation rules.", "scope": "", "scopeKind": ""}, {"name": "function api(path: string): string { api", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "function baseUrl(): string { baseUrl", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "function isNetworkOrCorsError(err: any): boolean { isNetworkOrCorsError", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "function safeDefault<T>(value: T): T { safeDefault", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "function shouldSoftFail(err: any): boolean { shouldSoftFail", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["joinUrl", "getAppConfig", "postJson", "getJson", "joinQuery"], "search-terms": ["WebFrontend src lib api client.ts", "API client methods", "authentication methods", "resource management", "cost summaries", "recommendations", "automation rules", "TypeScript API client"], "state": 2, "file_id": 76, "knowledge_revision": 266, "git_revision": "", "revision_history": [{"262": ""}, {"266": ""}], "ctags": [{"_type": "tag", "name": "ApiClient", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/api/client.ts", "pattern": "/^export type ApiClient = ReturnType<typeof apiClient>;$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "ClientOptions", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/api/client.ts", "pattern": "/^type ClientOptions = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "api", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/api/client.ts", "pattern": "/^function api(path: string): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "apiBase", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/api/client.ts", "pattern": "/^        const apiBase = cfg.apiBase || '\\/api\\/v1';$/", "language": "TypeScript", "kind": "constant", "scope": "apiClient", "scopeKind": "function"}, {"_type": "tag", "name": "apiClient", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/api/client.ts", "pattern": "/^export function apiClient() {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "baseUrl", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/api/client.ts", "pattern": "/^function baseUrl(): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "body", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/api/client.ts", "pattern": "/^        const body = { ...payload, items: (payload as any).rows ?? [] };$/", "language": "TypeScript", "kind": "constant", "scope": "apiClient", "scopeKind": "function"}, {"_type": "tag", "name": "cfg", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/api/client.ts", "pattern": "/^        const cfg = getAppConfig();$/", "language": "TypeScript", "kind": "constant", "scope": "apiClient", "scopeKind": "function"}, {"_type": "tag", "name": "isHttps", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/api/client.ts", "pattern": "/^          const isHttps = u.protocol === 'https:';$/", "language": "TypeScript", "kind": "constant", "scope": "apiClient", "scopeKind": "function"}, {"_type": "tag", "name": "isNetworkOrCorsError", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/api/client.ts", "pattern": "/^function isNetworkOrCorsError(err: any): boolean {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "items", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/api/client.ts", "pattern": "/^        const body = { ...payload, items: (payload as any).rows ?? [] };$/", "language": "TypeScript", "kind": "constant", "scope": "apiClient", "scopeKind": "function"}, {"_type": "tag", "name": "org", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/api/client.ts", "pattern": "/^        const org = String(organizationId || '').trim();$/", "language": "TypeScript", "kind": "constant", "scope": "apiClient", "scopeKind": "function"}, {"_type": "tag", "name": "safeDefault", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/api/client.ts", "pattern": "/^function safeDefault<T>(value: T): T {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "shouldSoftFail", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/api/client.ts", "pattern": "/^function shouldSoftFail(err: any): boolean {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/api/client.ts", "pattern": "/^  const status = err?.status;$/", "language": "TypeScript", "kind": "constant", "scope": "shouldSoftFail", "scopeKind": "function"}, {"_type": "tag", "name": "u", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/api/client.ts", "pattern": "/^          const u = new URL(apiBase);$/", "language": "TypeScript", "kind": "constant", "scope": "apiClient", "scopeKind": "function"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/api/client.ts", "pattern": "/^        const url = joinQuery(api('\\/costs\\/summary'), { period: period || 'monthly' });$/", "language": "TypeScript", "kind": "constant", "scope": "apiClient", "scopeKind": "function"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/api/client.ts", "pattern": "/^        const url = joinQuery(api('\\/recommendations'), { priority: params.priority, resource_id/", "language": "TypeScript", "kind": "constant", "scope": "apiClient", "scopeKind": "function"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293500/WebFrontend/src/lib/api/client.ts", "pattern": "/^        const url = joinQuery(api('\\/resources'), {$/", "language": "TypeScript", "kind": "constant", "scope": "apiClient", "scopeKind": "function"}], "hash": "0b0a979b217cbc4a23d0f31884957376", "format-version": 4, "code-base-name": "WebFrontend", "filename": "WebFrontend/src/lib/api/client.ts"}